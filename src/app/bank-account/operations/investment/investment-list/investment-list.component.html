<div class="flex flex-row flex-1 justify-between items-center">
  <h2>Investimenti</h2>
  <button mat-mini-fab [routerLink]="['new']">
    <mat-icon aria-hidden="false" aria-label="Nuovo investimento" fontIcon="add"></mat-icon>
  </button>
</div>

@if (investments()!.length) {
  <div>
    <mat-table [dataSource]="investments()!">
      <ng-container matColumnDef="amount">
        <mat-header-cell *matHeaderCellDef> Capitale investito </mat-header-cell>
        <mat-cell *matCellDef="let investment"> {{ investment.amount }} {{ currencyService.defaultAccountCurrency }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="startDate">
        <mat-header-cell *matHeaderCellDef> Data sottoscrizione </mat-header-cell>
        <mat-cell *matCellDef="let investment"> {{ investment.startDate | date }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="endDate">
        <mat-header-cell *matHeaderCellDef> Data termine </mat-header-cell>
        <mat-cell *matCellDef="let investment"> {{ investment.endDate | date }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef> Stato </mat-header-cell>
        <mat-cell *matCellDef="let investment"> {{ investment.status! | investmentStatusName }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="investmentProductId">
        <mat-header-cell *matHeaderCellDef> Tipologia </mat-header-cell>
        <mat-cell *matCellDef="let investment"> {{ investment.investmentProductId }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Azioni </mat-header-cell>
        <mat-cell *matCellDef="let investment">
          <button mat-button [routerLink]="[investment.id]">
            Dettaglio
          </button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="tableColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: tableColumns;"></mat-row>
    </mat-table>
  </div>
} @else {
  <div class="flex flex-col flex-1 justify-between items-center">
    <h3>Non ci sono investimenti</h3>
    <img class="illustration" src="assets/illustrations/empty-data.svg"/>
    <h3>Per cominciare, creane uno</h3>
  </div>
}
